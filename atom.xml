<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[oskarhane]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://oskarhane.com/"/>
  <updated>2016-02-18T16:24:36.000Z</updated>
  <id>http://oskarhane.com/</id>
  
  <author>
    <name><![CDATA[Oskar Hane]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Generate Ascii tables in Javascript]]></title>
    <link href="http://oskarhane.com/generate-ascii-tables-in-javascript/"/>
    <id>http://oskarhane.com/generate-ascii-tables-in-javascript/</id>
    <published>2016-02-18T11:40:46.000Z</published>
    <updated>2016-02-18T16:24:36.000Z</updated>
    <content type="html"><![CDATA[<p>In the graph database Neo4j:s client, called Neo4j Browser, we present the result of<br>a query in a few different ways since our users have different methods of interpreting<br>the data.<br>Some might want to see visual patterns, so there’s a graph visualization for them:<br><img src="/post_img/2016/02/graph-viz.png" alt="graph viz"></p>
<a id="more"></a>
<p>Some might just want to get a fast overview of what returned, so there’s a html rows view:<br><img src="/post_img/2016/02/rows.png" alt="rows"></p>
<p>It’s not uncommon for users to want to copy the result and paste it in Slack, a bug report, an email<br>etc, so we have provided a ascii version of the rows view:<br><img src="/post_img/2016/02/ascii.png" alt="ascii"></p>
<p>What’s cool in this ascii version is that we added the ability to dynamically change the maximum<br>column width of the table. As you can see in the screenshot above the text is wrapped after a certain<br>number of characters.<br>We added a slider so you can change that so it fits your medium where it’s going to be pasted.<br><img src="/post_img/2016/02/ascii-slider.gif" alt="ascii-slider"></p>
<p>The old code for this was pretty bad and had a few bugs so I decided to refactor that code.<br>While ding that I also decided to release it as a npm and bower module so we can pull it in to our client<br>as a dependency.</p>
<p>The refactored code have a functional approach is just over 100 lines long, which is really nice.<br>See the source: <a href="https://github.com/oskarhane/ascii-data-table/blob/master/src/ascii-data-table.js" target="_blank" rel="external">Source file</a></p>
<p>I really enjoyed writing the tests for this module since it’s very visually pleasing: <a href="https://github.com/oskarhane/ascii-data-table/blob/master/test/ascii-data-table-test.js" target="_blank" rel="external">Tests file</a></p>
<p>The Github repo can be found here: <a href="https://github.com/oskarhane/ascii-data-table" target="_blank" rel="external">https://github.com/oskarhane/ascii-data-table</a><br>The npm module can be found here: <a href="https://www.npmjs.com/package/ascii-data-table" target="_blank" rel="external">https://www.npmjs.com/package/ascii-data-table</a></p>
<p>btw, here’s a copied result from the ascii table:</p>
<pre><code><span class="code">+================+</span>======<span class="code">+================================+</span>=================+
<span class="header">|reviewer        |rating|summary                         |movie            |
+================+======+================================+=================+</span>
<span class="header">|Jessica Thompson|92    |You had me at Jerry             |Jerry Maguire    |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|Jessica Thompson|65    |Silly, but fun                  |The Replacements |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|Angela Scope    |62    |Pretty funny at times           |The Replacements |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|James Thompson  |100   |The coolest football movie ever |The Replacements |
+----------------+------+--------------------------------+-----------------+</span>
|Jessica Thompson|45    |Slapstick redeemed only by the R|The Birdcage     |
|                |      |obin Williams and Gene Hackman's|                 |
<span class="header">|                |      | stellar performances           |                 |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|Jessica Thompson|85    |Dark, but compelling            |Unforgiven       |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|Jessica Thompson|95    |An amazing journey              |Cloud Atlas      |
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|James Thompson  |65    |Fun, but a little far fetched   |The Da Vinci Code|
+----------------+------+--------------------------------+-----------------+</span>
<span class="header">|Jessica Thompson|68    |A solid romp                    |The Da Vinci Code|
+----------------+------+--------------------------------+-----------------+</span>
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>In the graph database Neo4j:s client, called Neo4j Browser, we present the result of<br>a query in a few different ways since our users have different methods of interpreting<br>the data.<br>Some might want to see visual patterns, so there’s a graph visualization for them:<br><img src="/post_img/2016/02/graph-viz.png" alt="graph viz"></p>]]>
    
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="ES2015" scheme="http://oskarhane.com/tags/ES2015/"/>
    
      <category term="Javascript" scheme="http://oskarhane.com/tags/Javascript/"/>
    
      <category term="Node.js" scheme="http://oskarhane.com/tags/Node-js/"/>
    
      <category term="Server Side" scheme="http://oskarhane.com/tags/Server-Side/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Eight queens puzzle]]></title>
    <link href="http://oskarhane.com/eight-queens-puzzle/"/>
    <id>http://oskarhane.com/eight-queens-puzzle/</id>
    <published>2016-01-08T13:17:25.000Z</published>
    <updated>2016-01-08T14:34:13.000Z</updated>
    <content type="html"><![CDATA[<p><img src="https://oskarhane-dropshare-eu.s3-eu-central-1.amazonaws.com/Oskar4j-2016-01-08-at-15.18.56-fu2hyn657n/Oskar4j-2016-01-08-at-15.18.56.png" alt="solutions"></p>
<p>Here’s a classic puzzle: the <a href="https://en.wikipedia.org/wiki/Eight_queens_puzzle" target="_blank" rel="external">eight queens puzzle</a>.  </p>
<p>Quoted from Wikipedia:  </p>
<blockquote>
<p>The eight queens puzzle is the problem of placing eight chess queens on an 8×8 chessboard so that no two queens threaten each other. Thus, a solution requires that no two queens share the same row, column, or diagonal. The eight queens puzzle is an example of the more general n-queens problem of placing n queens on an n×n chessboard, where solutions exist for all natural numbers n with the exception of n=2 and n=3.[1]</p>
</blockquote>
<p>I solve puzzles from time to time to keep my motivation up and to get some exercise for my brain. But mostly for fun.</p>
<p>In this puzzle on a standard 8x8 chess board there are 92 solutions where no two queens threaten each other.</p>
<p>What could a solution in Javascript for this puzzle look like?<br>I’ve moved more and more into <a href="https://en.wikipedia.org/wiki/Functional_programming" target="_blank" rel="external">functional programming</a> lately so this is my take on it.  </p>
<pre><code><span class="regexp">//</span> Solve queens puzzle.
<span class="regexp">//</span> <span class="attribute">https</span>:<span class="regexp">//</span>en.wikipedia.org/wiki/Eight_queens_puzzle

<span class="reserved">const</span> doCollide = <span class="function"><span class="params">(arr1, arr2)</span> =&gt;</span> {
  <span class="reserved">const</span> shorter = arr1.length &lt; arr2.length ? arr1 : arr2
  <span class="reserved">const</span> longer = arr2.length &gt; arr1.length ? arr2 : arr1
  <span class="reserved">const</span> collisionsRemoved = shorter.filter(<span class="function"><span class="params">(val, i)</span> =&gt;</span> shorter[i] != longer[i])
  <span class="keyword">return</span> collisionsRemoved.length != shorter.length
}

<span class="reserved">const</span> okToAdd = <span class="function"><span class="params">(base, candidate, fn)</span> =&gt;</span> {
  <span class="reserved">const</span> candVector = base.reduce(<span class="function"><span class="params">(last, curr, index)</span> =&gt;</span> {
    <span class="keyword">return</span> [].concat(last, [fn(candidate, index)])
  }, [])
  <span class="keyword">return</span> !doCollide(candVector, base)
}

<span class="reserved">const</span> upStep = <span class="function"><span class="params">(num, index)</span> =&gt;</span> parseInt(num) + index + <span class="number">1</span>
<span class="reserved">const</span> downStep = <span class="function"><span class="params">(num, index)</span> =&gt;</span> parseInt(num) - index - <span class="number">1</span>
<span class="reserved">const</span> levelStep = num =&gt; parseInt(num)
<span class="reserved">const</span> getArr = <span class="function"><span class="params">(num)</span> =&gt;</span> Array.apply(<span class="literal">null</span>, Array(num))

<span class="reserved">const</span> addQueen = <span class="function"><span class="params">(bases, candidates)</span> =&gt;</span> {
  <span class="keyword">return</span> bases.map(<span class="function"><span class="params">(base)</span> =&gt;</span> {
    <span class="keyword">return</span> candidates.filter(<span class="function"><span class="params">(cand)</span> =&gt;</span> {
      <span class="keyword">return</span> [upStep, downStep, levelStep].every(<span class="function"><span class="params">(fn)</span> =&gt;</span> okToAdd(base, cand, fn))
    }).map(val =&gt; [val].concat(base))
  }).reduce(<span class="function"><span class="params">(all, curr)</span> =&gt;</span> {
    <span class="keyword">return</span> all.concat(curr)
  }, [])
}

<span class="reserved">const</span> solve = <span class="function"><span class="params">(numTiles)</span> =&gt;</span> {
  <span class="keyword">return</span> getArr(numTiles).reduce(<span class="function"><span class="params">(solutions, depth)</span> =&gt;</span> {
    <span class="reserved">const</span> candidates = getArr(numTiles).map(<span class="function"><span class="params">(_, i)</span> =&gt;</span> i)
    <span class="keyword">return</span> addQueen(solutions, candidates)
  }, [[]])
}

<span class="regexp">//</span> <span class="number">8</span> tiles = normal chess board
<span class="reserved">const</span> solution = solve(<span class="number">8</span>)
<span class="built_in">console</span>.log(<span class="string">'solutions'</span>, solution)
<span class="built_in">console</span>.log(<span class="string">'number of solutions: '</span> + solution.length)
</code></pre><p>You can try it out in this JSBin: <a href="http://jsbin.com/qubeye/6/edit?js,console" target="_blank" rel="external">http://jsbin.com/qubeye/6/edit?js,console</a><br>Have you any ideas for improvement?  </p>
<p>Comment below!</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><img src="https://oskarhane-dropshare-eu.s3-eu-central-1.amazonaws.com/Oskar4j-2016-01-08-at-15.18.56-fu2hyn657n/Oskar4j-2016-01-08-at-15]]>
    </summary>
    
      <category term="ES2015" scheme="http://oskarhane.com/tags/ES2015/"/>
    
      <category term="Javascript" scheme="http://oskarhane.com/tags/Javascript/"/>
    
      <category term="Puzzle" scheme="http://oskarhane.com/tags/Puzzle/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Functional programming in Javascript: The basics]]></title>
    <link href="http://oskarhane.com/functional-programming-in-javascript-the-basics/"/>
    <id>http://oskarhane.com/functional-programming-in-javascript-the-basics/</id>
    <published>2015-11-27T13:17:37.000Z</published>
    <updated>2015-11-27T10:52:30.000Z</updated>
    <content type="html"><![CDATA[<p>This post will be an intro to the very basics of functional programming style. Before I begin, let’s defins what I mean by <code>functional</code>.  </p>
<p>Functional programming is a paradigm, style, just like object oriented programming is.<br>There are two differences you must understand if you’re coming from a OO background.</p>
<p><strong>Composition over inheritance</strong>: In functional programming there’s no inheritance. Objects and functions are composed to become what you want.</p>
<p><strong>Functions must be pure / have no side effects</strong>: A function should never mutate / change the value of anything outside it’s own scope. It must always leave it untouced so that calling the function has no side effects in our app and we should always expect the same result if we call it multiple times.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar = <span class="string">'Hello'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pureReverseString</span><span class="params">(s)</span> &#123;</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">s</span>.<span class="built_in">split</span>(<span class="string">''</span>).<span class="built_in">reverse</span>().<span class="built_in">join</span>(<span class="string">''</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unPureReverseString</span><span class="params">(s)</span> &#123;</span></span><br><span class="line">  myVar = <span class="keyword">s</span>.<span class="built_in">split</span>(<span class="string">''</span>).<span class="built_in">reverse</span>().<span class="built_in">join</span>(<span class="string">''</span>)</span><br><span class="line">  <span class="keyword">return</span> myVar</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const rev1 = pureReverseString(myVar)</span><br><span class="line">console.<span class="built_in">log</span>(myVar, rev1) // Outputs <span class="string">'Hello'</span> <span class="string">'olleH'</span></span><br><span class="line">const rev11 = pureReverseString(myVar)</span><br><span class="line">console.<span class="built_in">log</span>(myVar, rev11) // Outputs <span class="string">'Hello'</span> <span class="string">'olleH'</span></span><br><span class="line"></span><br><span class="line">const rev2 = unPureReverseString(myVar)</span><br><span class="line">console.<span class="built_in">log</span>(myVar, rev2) // Outputs <span class="string">'olleH'</span> <span class="string">'olleH'</span></span><br><span class="line">const rev21 = unPureReverseString(myVar)</span><br><span class="line">console.<span class="built_in">log</span>(myVar, rev21) // Outputs <span class="string">'Hello'</span> <span class="string">'Hello'</span></span><br></pre></td></tr></table></figure>
<p>Quite silly example, but we clearly see that the second function mutates the <code>myVar</code> variable which could have side effects on our app. And also, when calling it multiple times with the same input variable we get different results.<br>Hard to test and debug.</p>
<p>This is the basics.</p>
<p>Functional programming also uses something called <em>curried functions</em> or just <em>currying</em>. This is a quite cool and handy way of composing functions that can be used later over and over again.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Let's say we have a simple add function that adds two integers</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(x,y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is the curried function</span></span><br><span class="line"><span class="comment">// You can call the curried function by addCurried(1)(2) to add 1+2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addCurried</span><span class="params">(what)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> what+num</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> addFive = addCurried(<span class="number">5</span>) <span class="comment">// Partial curried function</span></span><br><span class="line"><span class="keyword">const</span> addThree = addCurried(<span class="number">3</span>) <span class="comment">// Partial curried function</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(addFive(<span class="number">4</span>)) <span class="comment">// Outputs 9</span></span><br><span class="line"><span class="built_in">console</span>.log(addFive(<span class="number">4</span>)) <span class="comment">// Outputs 9</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(addThree(<span class="number">4</span>)) <span class="comment">// Outputs 7</span></span><br><span class="line"><span class="built_in">console</span>.log(addThree(<span class="number">4</span>)) <span class="comment">// Outputs 7</span></span><br></pre></td></tr></table></figure>
<p>Again, not super useful example but consider a role play where <code>addFive</code> could be something like <code>swordHit</code> and <code>addThree</code> might be <code>knifeHit</code>.</p>
<p>I’ll continue exploring functional programming in Javascript more in depth in future posts.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>This post will be an intro to the very basics of functional programming style. Before I begin, let’s defins what I mean by <code>function]]>
    </summary>
    
      <category term="Functional programming" scheme="http://oskarhane.com/tags/Functional-programming/"/>
    
      <category term="Javascript" scheme="http://oskarhane.com/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Throttle function calls]]></title>
    <link href="http://oskarhane.com/Throttle-function-calls/"/>
    <id>http://oskarhane.com/Throttle-function-calls/</id>
    <published>2015-06-18T19:58:25.000Z</published>
    <updated>2015-06-18T20:02:05.000Z</updated>
    <content type="html"><![CDATA[<p>A throttle function is a function that limit the number of calls to 1 per x time units.<br>I recently wanted to capture the <code>mousemove</code> event and reset a timer when the mouse was moved. Since the <code>mousemove</code> event is triggered several times per second I don’t want my reset function to be called every time. It would be fine for my reset function to be called once every 5 seconds or something like that.<br>Resetting a timer is quite cheap, but if I wanted to do something expensive the app would be very sluggish doing these expensive operations too often.</p>
<p>So I came up with this function, written in Coffeescript.</p>
<pre><code><span class="function"><span class="title">throttle</span> = <span class="params">(func, wait)</span> -&gt;</span>
  last_timestamp = <span class="literal">null</span>
  limit = wait<span class="function">
  -&gt;</span>
    context = @
    args = arguments
    now = Date.now()
    <span class="keyword">if</span> !last_timestamp || now - last_timestamp &gt;= limit
      last_timestamp = now
      func.apply(context, args)

mythrottle = throttle(
  <span class="function"><span class="params">(e)</span> -&gt;</span>
    <span class="built_in">console</span>.log e
,
  <span class="number">5000</span>
)

elem.bind<span class="function"><span class="params">(<span class="string">'mousemove'</span>, (e)-&gt;
  mythrottle(e)
)</span></span>
</code></pre><p>And in Javascript.</p>
<pre><code><span class="keyword">var</span> throttle = <span class="function"><span class="keyword">function</span><span class="params">(func, wait)</span> </span>{
  <span class="keyword">var</span> last_timestamp, limit;
  last_timestamp = <span class="literal">null</span>;
  limit = wait;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{
    <span class="keyword">var</span> args, context, now;
    context = <span class="keyword">this</span>;
    args = <span class="built_in">arguments</span>;
    now = <span class="built_in">Date</span>.now();
    <span class="keyword">if</span> (!last_timestamp || now - last_timestamp &gt;= limit) {
      last_timestamp = now;
      <span class="keyword">return</span> func.apply(context, args);
    }
  };
};

<span class="keyword">var</span> mythrottle = throttle(<span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{
  <span class="keyword">return</span> <span class="built_in">console</span>.log(e);
}, <span class="number">5000</span>);

elem.bind(<span class="string">'mousemove'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e)</span> </span>{
  <span class="keyword">return</span> mythrottle(e);
});    
</code></pre><p><code>elem</code> is the selected element, like <code>$(&#39;#id&#39;)</code> in jQuery.</p>
<p>We’re calling <code>mythrottle(e)</code> every 5 seconds on constant mousemove now, instead of several times every second.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>A throttle function is a function that limit the number of calls to 1 per x time units.<br>I recently wanted to capture the <code>mousemo]]>
    </summary>
    
      <category term="coffeescript" scheme="http://oskarhane.com/tags/coffeescript/"/>
    
      <category term="javascript" scheme="http://oskarhane.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Writing the book: Build your own PaaS with Docker]]></title>
    <link href="http://oskarhane.com/writing-the-book-build-your-own-paas-with-docker/"/>
    <id>http://oskarhane.com/writing-the-book-build-your-own-paas-with-docker/</id>
    <published>2015-06-03T20:36:16.000Z</published>
    <updated>2015-06-03T20:43:17.000Z</updated>
    <content type="html"><![CDATA[<p>So, I’ve written a book. A real book that’s sold on Amazon (amongst other stores). Printed on paper (or as an ebook as well, of course).</p>
<p>It was a lot harder than I thought.<br>Getting the language right (since I’m not a native english speaker) and getting a good flow within every chapter as well as through the whole book.<br>Authoring chapters that will give readers insights and knowledge. It’s hard.</p>
<p>It took much longer than I thought. I’d just started working for <a href="http://neo4j.com" target="_blank" rel="external">Neo4j</a> and had 2,5 years old daughter that wanted attention all awake time.<br>So there were lots of late night writing done. Lots. Days before some deadlines I hardly didn’t sleep at all.</p>
<p>The book is about how you can use <a href="http://docker.com" target="_blank" rel="external">Docker</a> to build your own Platform as a Service. Docker is still pretty young and breaking changes come pretty often which had the effect that I had to rewrite parts of the book from time to time to reflect these Docker changes.<br>And I wrote about <a href="http://www.fig.sh" target="_blank" rel="external">Fig</a> and they get acquired by Docker, changing it’s name to <a href="https://docs.docker.com/compose/" target="_blank" rel="external">Docker Compose</a> so I had to rewrite that part as well. You get the idea.</p>
<p>It’s published by <a href="https://www.packtpub.com" target="_blank" rel="external">PACKT Publishing</a>, which is a brittish publishing company founded in 2004.</p>
<p>If was a fun and educating experice and I wouldn’t mind writing another book. Not right now, but in the near future.<br>But I would choose a more stable topic and probably not have such short deadlines (I would write on my terms).</p>
<p>I’m super exited that I’ve written a book and can call myself an author / published writer.<br>I’m also very self critical and find things I’m not happy with through out the whole book. On the other hand, the book would never have been published if I was to be happy with every sentence in it.</p>
<p>The book is called <strong>Build your own PaaS with Docker</strong> and can be found on <a href="http://www.amazon.com/gp/product/1784393940" target="_blank" rel="external">Amazon</a> and in <a href="http://bit.ly/1J9j3ix" target="_blank" rel="external">Packts webshop</a>.<br>Check it out.</p>
<p><img src="/post_img/2015/06/3496OT.jpg.png" alt="Cover"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>So, I’ve written a book. A real book that’s sold on Amazon (amongst other stores). Printed on paper (or as an ebook as well, of course).<]]>
    </summary>
    
      <category term="docker" scheme="http://oskarhane.com/tags/docker/"/>
    
      <category term="paas" scheme="http://oskarhane.com/tags/paas/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Offline mode in OS X]]></title>
    <link href="http://oskarhane.com/offline-mode-in-os-x/"/>
    <id>http://oskarhane.com/offline-mode-in-os-x/</id>
    <published>2015-05-26T15:38:21.000Z</published>
    <updated>2015-05-26T15:38:21.000Z</updated>
    <content type="html"><![CDATA[<p>When working on web apps we have to keep in mind that the client might not have access to the internet all the time.  Chrome has a great feature for this:<br><img src="/post_img/2015/05/Oskar4j-2015-05-26-at-17.20.02.png" alt="Chrome network settings"></p>
<p>When working on a web app that make requests to a API located at <em>localhost</em> but also make requests to external API:s, it’s harder.<br>I solved this issue by creating a new <em>Location</em> in OS X <em>Network</em> part of <em>System Preferences</em>. The new <em>Location</em> has WiFi and Ethernet <em>Configure IPv4</em> set to <em>Off</em>, which means that it’s offline but you can still reach your localhost server.</p>
<p><img src="/post_img/2015/05/Oskar4j-2015-05-26-at-17.30.43.png" alt="OS X Network Location"></p>
<p>Good times!</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>When working on web apps we have to keep in mind that the client might not have access to the internet all the time.  Chrome has a great ]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="General" scheme="http://oskarhane.com/tags/General/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Untracked files in newly cloned Git repo?]]></title>
    <link href="http://oskarhane.com/untracked-files-in-newly-cloned-git-repo/"/>
    <id>http://oskarhane.com/untracked-files-in-newly-cloned-git-repo/</id>
    <published>2015-04-22T21:05:32.000Z</published>
    <updated>2015-04-23T06:12:56.000Z</updated>
    <content type="html"><![CDATA[<p>It has happend a few times for me: I clone a remote Git repository, and when I do <code>git status</code> to see info one or more untracked files are listed.<br>It’s quite annoying and I could see the pattern that the filenames of these files has UTF-8 / special characters in them (åäö). </p>
<p>What to do to resolve this?</p>
<p>Do this: <code>git config core.precomposeunicode false</code> and they’re tracked.</p>
<p>Why? </p>
<p><strong>core.precomposeunicode</strong></p>
<pre><code>This <span class="keyword">option</span> <span class="keyword">is</span> only used <span class="keyword">by</span> Mac OS implementation <span class="keyword">of</span> Git. <span class="keyword">When</span> core.precomposeunicode=<span class="literal">true</span>, 
Git reverts the <span class="keyword">unicode</span> decomposition <span class="keyword">of</span> filenames done <span class="keyword">by</span> Mac OS. 
This <span class="keyword">is</span> useful <span class="keyword">when</span> sharing a repository between Mac OS <span class="keyword">and</span> Linux <span class="keyword">or</span> Windows. 
(Git <span class="keyword">for</span> Windows <span class="number">1.7</span><span class="number">.10</span> <span class="keyword">or</span> higher <span class="keyword">is</span> needed, <span class="keyword">or</span> Git under cygwin <span class="number">1.7</span>). 
<span class="keyword">When</span> <span class="literal">false</span>, file names are handled fully transparent <span class="keyword">by</span> Git, which <span class="keyword">is</span> backward compatible <span class="keyword">with</span> 
older versions <span class="keyword">of</span> Git.
</code></pre><p>From <a href="http://git-scm.com/docs/git-config" target="_blank" rel="external">http://git-scm.com/docs/git-config</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>It has happend a few times for me: I clone a remote Git repository, and when I do <code>git status</code> to see info one or more untrack]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Git" scheme="http://oskarhane.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Git - Feature branch model]]></title>
    <link href="http://oskarhane.com/git-feature-branch-model/"/>
    <id>http://oskarhane.com/git-feature-branch-model/</id>
    <published>2015-03-25T20:56:54.000Z</published>
    <updated>2015-03-25T21:30:28.000Z</updated>
    <content type="html"><![CDATA[<p>Whether you use Git with a centralized repository (like Github or Bitbucket) or just a local copy, I would always advice you to use the <em>Feature branch model</em> as your Git workflow.</p>
<p>Here are the key points that describes the Git feature branch workflow:</p>
<ul>
<li>No development happens or are pushed directly to the master branch.</li>
<li>Create a new branch, a feature branch, when you start development on a new feature.</li>
<li>Feature branches should have descriptive names, like <code>add-printing-stylesheet</code>.</li>
<li>When the feature is finished, you merge in into master or create a pull request if you use a central repository and use pull requests / code review.</li>
<li>When it’s merged, delete the feature branch. Keep the branches as short lived as possible.</li>
</ul>
<p>If you follow this you will always have a working master branch and all feature development is isolated from the main codebase until they are finished.  </p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Whether you use Git with a centralized repository (like Github or Bitbucket) or just a local copy, I would always advice you to use the <]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Git" scheme="http://oskarhane.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Angular - Bootstrap - Jade - Stylus - CoffeeScript boilerplate webapp with Yeoman]]></title>
    <link href="http://oskarhane.com/angular-bootstrap-jade-stylus-coffeescript-boilerplate-webapp-with-yeoman/"/>
    <id>http://oskarhane.com/angular-bootstrap-jade-stylus-coffeescript-boilerplate-webapp-with-yeoman/</id>
    <published>2014-11-12T20:08:20.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>Sorry about all the buzzwords in the title but it really describes what this note-to-self post is about.  </p>
<p>How to create a boilerplate web app using <a href="https://angularjs.org" target="_blank" rel="external">AngularJS</a> as framework, <a href="http://getbootstrap.com" target="_blank" rel="external">Bootstrap</a> as HTML/CSS base, <a href="http://jade-lang.com" target="_blank" rel="external">Jade</a> as HTML replacement, <a href="http://learnboost.github.io/stylus/" target="_blank" rel="external">Stylus</a> as CSS replacement, and <a href="http://coffeescript.org" target="_blank" rel="external">CoffeeScript</a> as a Javascript replacement/generator/transpiler. All using <a href="http://gruntjs.com" target="_blank" rel="external">Grunt</a> as the glue that keeps everything together.  </p>
<p><a href="https://www.npmjs.org" target="_blank" rel="external">Npm</a> and <a href="http://bower.io" target="_blank" rel="external">Bower</a> makes sure all dependencies are in place. And Karma for the testing.</p>
<p>To create the scaffolding I use a tool named <a href="http://yeoman.io" target="_blank" rel="external">Yeoman</a> that has all these <em>generators</em> that installs all tolls you need, configures Grunt, npm and Bower and generates a basic app file structure so you can jump straight into the code.</p>
<p>Lots of tools and replacements/generators/transpiler languages and there certainly are better or faster ones out there, but these makes me comfortable and I can get to work in 2 min.</p>
<p>Anyway, this is how I do it:</p>
<pre><code>npm install --<span class="keyword">global</span> yo bower grunt-<span class="keyword">cli</span>
npm install --<span class="keyword">global</span> generator-angular-jade-stylus

<span class="keyword">mkdir</span> newapp &amp;&amp; <span class="keyword">cd</span> <span class="label">$_</span>
yo angular-jade-stylus --coffee --jade --stylus newapp
</code></pre><p>Run <code>npm cache clean</code> and repeat the last line if it fails.  </p>
<p>Answer yes to all questions.</p>
<p>Run <code>grunt serve</code> and point your browser to localhost:9000 unless it does so for you.</p>
<p>Bam, done.  </p>
<p>Thank you <a href="http://yeoman.io" target="_blank" rel="external">Yeoman</a>.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Sorry about all the buzzwords in the title but it really describes what this note-to-self post is about.  </p>
<p>How to create a boilerp]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Coding" scheme="http://oskarhane.com/tags/Coding/"/>
    
      <category term="General" scheme="http://oskarhane.com/tags/General/"/>
    
      <category term="Impressive" scheme="http://oskarhane.com/tags/Impressive/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Again: Add Authorization header to AngularJS $http]]></title>
    <link href="http://oskarhane.com/again-add-authorization-header-to-angularjs-http/"/>
    <id>http://oskarhane.com/again-add-authorization-header-to-angularjs-http/</id>
    <published>2014-11-07T14:17:37.000Z</published>
    <updated>2015-04-16T08:27:54.000Z</updated>
    <content type="html"><![CDATA[<p>In my last post I showed <a href="/add-authorization-header-to-angularjs-http/">how I add an <code>Authorization</code> header</a> to outgoing $http calls in AngularJS. I’ve changed the way I do it, this which I think is easier to read.</p>
<pre><code>angular.<span class="function"><span class="title">module</span><span class="params">(<span class="string">'app'</span>)</span></span>
  .factory(<span class="string">'RequestInterceptor'</span>, [
    <span class="string">'AuthDataService'</span>
    (AuthDataService) -&gt;
      interceptor = 
        request: (config) -&gt;
          <span class="tag">header</span> = AuthDataService.<span class="function"><span class="title">getAuthData</span><span class="params">()</span></span>
          <span class="keyword">if</span> <span class="tag">header</span> then config<span class="class">.headers</span>[<span class="string">'Authorization'</span>] = <span class="string">"Basic #{header}"</span>
          config
      interceptor
])

angular.<span class="function"><span class="title">module</span><span class="params">(<span class="string">'app'</span>)</span></span>.<span class="function"><span class="title">config</span><span class="params">([<span class="string">'$httpProvider'</span>, (<span class="variable">$httpProvider</span>)</span></span> -&gt;
  <span class="variable">$httpProvider</span><span class="class">.interceptors</span><span class="class">.push</span> <span class="string">'RequestInterceptor'</span>
])
</code></pre><p>The <code>AuthDataService</code> is the same as in my last post, but without the the setting of <code>$http.defaults.headers.common[&#39;Authorization&#39;]</code>.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>In my last post I showed <a href="/add-authorization-header-to-angularjs-http/">how I add an <code>Authorization</code> header</a> to out]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Add Authorization header to AngularJS $http]]></title>
    <link href="http://oskarhane.com/add-authorization-header-to-angularjs-http/"/>
    <id>http://oskarhane.com/add-authorization-header-to-angularjs-http/</id>
    <published>2014-10-14T11:40:46.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>I recently had to add an <a href="http://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="external">Authorization header</a> to all <a href="https://docs.angularjs.org/api/ng/service/$http" target="_blank" rel="external">$http</a> requests in an AngularJS app.  </p>
<p>Here’s how I did it in Coffeescript.</p>
<pre><code><span class="comment">#AuthData.coffee</span>

angular.<span class="keyword">module</span>(<span class="string">'app'</span>)
.factory <span class="string">'AuthDataService'</span>, [
  <span class="string">'localStorageService'</span>
  <span class="string">'$base64'</span>
  <span class="string">'$http'</span>
  (localStorageService, <span class="variable">$base64</span>, <span class="variable">$http</span>) -&gt;
    current_auth_data = localStorageService.get(<span class="string">'authorization_token'</span>)
    if current_auth_data
      <span class="variable">$http</span>.defaults.headers.common[<span class="string">'Authorization'</span>] = <span class="string">"Basic <span class="subst">#{current_auth_data}</span>"</span>

    <span class="keyword">return</span> {
      <span class="symbol">setAuthData:</span> (authdata) -&gt;
        <span class="keyword">return</span> <span class="keyword">unless</span> authdata
        encoded = <span class="variable">$base64</span>.encode(authdata)
        localStorageService.set(<span class="string">'authorization_token'</span>, encoded)
        <span class="variable">$http</span>.defaults.headers.common[<span class="string">'Authorization'</span>] = <span class="string">"Basic <span class="subst">#{encoded}</span>"</span>
      <span class="symbol">clearAuthData:</span> -&gt;
        localStorageService.remove(<span class="string">'authorization_token'</span>)
        <span class="variable">$http</span>.defaults.headers.common[<span class="string">'Authorization'</span>] = <span class="string">''</span>
      <span class="symbol">getAuthData:</span> -&gt;
        <span class="keyword">return</span> localStorageService.get(<span class="string">'authorization_token'</span>)
    }
]
</code></pre><p>Upon initialization it checks if there’s a <code>authorization_token</code> saved in your local storage. If there is, set it as a <code>Authorization</code> header on $http.  </p>
<p>Whenever you set or clear the auth data, the header for $http changes as well.</p>
<p>EDIT: I’ve written another post about how to <a href="/again-add-authorization-header-to-angularjs-http/">add Authorization header to AngularJS $http</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>I recently had to add an <a href="http://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="external">Authorization ]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Coding" scheme="http://oskarhane.com/tags/Coding/"/>
    
      <category term="General" scheme="http://oskarhane.com/tags/General/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Create a nested array recursively in CoffeeScript]]></title>
    <link href="http://oskarhane.com/create-a-nested-array-recursively-in-coffeescript/"/>
    <id>http://oskarhane.com/create-a-nested-array-recursively-in-coffeescript/</id>
    <published>2014-09-24T03:56:28.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>In an old post called <a href="/create-a-nested-array-recursively-in-javascript/">Create a nested array recursively in Javascript</a> I wrote how to go from</p>
<pre><code>[
    {<span class="string">id:</span> <span class="number">1</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>},
    {<span class="string">id:</span> <span class="number">2</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>},
    {<span class="string">id:</span> <span class="number">3</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">1</span>},
    {<span class="string">id:</span> <span class="number">4</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>},
    {<span class="string">id:</span> <span class="number">5</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>},
    {<span class="string">id:</span> <span class="number">6</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>},
    {<span class="string">id:</span> <span class="number">7</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>},
    {<span class="string">id:</span> <span class="number">8</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">2</span>}
]
</code></pre><a id="more"></a>
<p>to</p>
<pre><code>[
    {<span class="string">id:</span> <span class="number">1</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>, <span class="string">children:</span> [
        {<span class="string">id:</span> <span class="number">3</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">1</span>, <span class="string">children:</span> [
            {<span class="string">id:</span> <span class="number">4</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>, <span class="string">children:</span> [
                {<span class="string">id:</span> <span class="number">5</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>},
                {<span class="string">id:</span> <span class="number">6</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>}
            ]},
            {<span class="string">id:</span> <span class="number">7</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>}
        ]}
    ]},
    {<span class="string">id:</span> <span class="number">2</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>, <span class="string">children:</span> [
        {<span class="string">id:</span> <span class="number">8</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">2</span>}
    ]}
]
</code></pre><p>with a recursive Javascript function.  </p>
<p>I’ve been asked to show how to do this in Coffeescript.</p>
<pre><code>getNestedChildren = (arr, parent) -&gt;
  out = []
  <span class="keyword">for</span> item <span class="keyword">in</span> arr
    continue unless item<span class="class">.parent</span> is parent
    children = getNestedChildren arr, item<span class="class">.id</span>    
    item<span class="class">.children</span> = children <span class="keyword">if</span> children<span class="class">.length</span>
    out<span class="class">.push</span> item
  out
</code></pre><p>which compiles to this Javascript:</p>
<pre><code>var getNestedChildren;

getNestedChildren = function(arr, parent) {
  var children, <span class="property">item</span>, out, _i, _len;
  out = [];
  <span class="keyword">for</span> (_i = <span class="number">0</span>, _len = arr.<span class="property">length</span>; _i &lt; _len; _i++) {
    <span class="property">item</span> = arr[_i];
    <span class="keyword">if</span> (<span class="property">item</span>.parent !== parent) {
      <span class="keyword">continue</span>;
    }
    children = getNestedChildren(arr, <span class="property">item</span>.<span class="property">id</span>);
    <span class="keyword">if</span> (children.<span class="property">length</span>) {
      <span class="property">item</span>.children = children;
    }
    out.push(<span class="property">item</span>);
  }
<span class="command">  return</span> out;
};
</code></pre><p>On <a href="http://js2coffee.org" target="_blank" rel="external">js2coffee</a> you can convert Javascript to and form Coffeescript.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>In an old post called <a href="/create-a-nested-array-recursively-in-javascript/">Create a nested array recursively in Javascript</a> I wrote how to go from</p>
<pre><code>[
    {<span class="string">id:</span> <span class="number">1</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>},
    {<span class="string">id:</span> <span class="number">2</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">0</span>},
    {<span class="string">id:</span> <span class="number">3</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">1</span>},
    {<span class="string">id:</span> <span class="number">4</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>},
    {<span class="string">id:</span> <span class="number">5</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>},
    {<span class="string">id:</span> <span class="number">6</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">4</span>},
    {<span class="string">id:</span> <span class="number">7</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">3</span>},
    {<span class="string">id:</span> <span class="number">8</span>, <span class="string">title:</span> <span class="string">'hello'</span>, <span class="string">parent:</span> <span class="number">2</span>}
]
</code></pre>]]>
    
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Training" scheme="http://oskarhane.com/tags/Training/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[AngularJS: $watch and $timeout]]></title>
    <link href="http://oskarhane.com/angularjs-watch-and-timeout/"/>
    <id>http://oskarhane.com/angularjs-watch-and-timeout/</id>
    <published>2014-09-11T03:55:00.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>As you might know, AngularJS has an event loop, called $digest, that checks and updates all bindings and values.  </p>
<p>You can have a DOM element only show when a scope variable has a certain value, like this:</p>
<pre><code>&lt;<span class="keyword">div</span> ng-show=<span class="string">"show_div"</span>&gt;Text <span class="keyword">in</span> <span class="keyword">div</span>&lt;/<span class="keyword">div</span>&gt;
</code></pre><p>Whenever the $digest runs, it checks if <code>$scope.show_div</code> is true and if it is, the div is shown. If not true, the div is hidden.</p>
<p>That means that in your controller you can toggle the visibility of the div by simply setting <code>$scope.show_div = true/false</code>. However, if you do this on mouseover an element or change the value very frequently some other way the $digest might not have had the time to finish it’s loop and the div won’t toggle as it should.</p>
<p>That’s where <code>$timeout</code> comes in. It’s a wrapper for javascript’s <code>setTimeout</code> with the addition that it triggers a $digest loop at the end meaning that anything you changed will be updated as it should.  </p>
<p>So instead of <code>$scope.show_div = true</code> and then <code>$scope.show_div = false</code> you do:</p>
<pre><code><span class="variable">$timeout</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{ <span class="variable">$scope</span>.show_div = <span class="keyword">true</span>; }, <span class="number">0</span>);
<span class="comment">//and</span>
<span class="variable">$timeout</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{ <span class="variable">$scope</span>.show_div = <span class="keyword">false</span>; }, <span class="number">0</span>);
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>As you might know, AngularJS has an event loop, called $digest, that checks and updates all bindings and values.  </p>
<p>You can have a ]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Neo4j Docker Image]]></title>
    <link href="http://oskarhane.com/neo4j-docker-image/"/>
    <id>http://oskarhane.com/neo4j-docker-image/</id>
    <published>2014-08-08T11:08:41.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>I forked <a href="https://github.com/tpires/neo4j" target="_blank" rel="external">tpires/neo4j</a> to make a Docker image for Neo4j that has version tags so I very easily can start a Neo4j instance to make API calls to.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>I forked <a href="https://github.com/tpires/neo4j" target="_blank" rel="external">tpires/neo4j</a> to make a Docker image for Neo4j that ]]>
    </summary>
    
      <category term="Docker" scheme="http://oskarhane.com/tags/Docker/"/>
    
      <category term="Server Side" scheme="http://oskarhane.com/tags/Server-Side/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Two Factor Auth for Wordpress > 5000 downloads]]></title>
    <link href="http://oskarhane.com/two-factor-auth-for-wordpress-5000-downloads/"/>
    <id>http://oskarhane.com/two-factor-auth-for-wordpress-5000-downloads/</id>
    <published>2014-08-03T13:30:04.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>Wow, this is pretty cool, I just passed the 5000 downloaded mark for my <a href="http://wordpress.org/plugins/two-factor-auth/" target="_blank" rel="external">Two Factor Auth for Wordpress plugin</a>.</p>
<p>(but I see that there’s something wrong with the changelog for v4.4. I really don’t like WP Plugin repository and readme parsing. This is not the first time.)</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Wow, this is pretty cool, I just passed the 5000 downloaded mark for my <a href="http://wordpress.org/plugins/two-factor-auth/" target="_]]>
    </summary>
    
      <category term="Crypto" scheme="http://oskarhane.com/tags/Crypto/"/>
    
      <category term="WordPress" scheme="http://oskarhane.com/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Today I'm joining the Neo4j team!]]></title>
    <link href="http://oskarhane.com/today-im-joining-the-neo4j-team/"/>
    <id>http://oskarhane.com/today-im-joining-the-neo4j-team/</id>
    <published>2014-08-01T07:51:39.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>As of today I start working with the team @ <a href="http://www.neotechnology.com" target="_blank" rel="external">Neo Technology</a> on a part of their <a href="http://neo4j.com" target="_blank" rel="external">Graph Database Neo4j</a>.</p>
<p>I’ll be responsible to make their fantastic <a href="http://www.neo4j.org/develop/visualize" target="_blank" rel="external">Neo4j Browser</a> even better by adding more features and make it what the customers want.</p>
<p><img src="/post_img/2014/08/orreMBA-2014-08-01-kl.-11.47.12.png" alt="browser example"></p>
<p>This will be great!</p>
<p><code>(graphs)-[:ARE]-&gt;(everywhere)</code></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>As of today I start working with the team @ <a href="http://www.neotechnology.com" target="_blank" rel="external">Neo Technology</a> on a]]>
    </summary>
    
      <category term="Coding" scheme="http://oskarhane.com/tags/Coding/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Note to self on updating Wordpress plugins via git-svn]]></title>
    <link href="http://oskarhane.com/note-to-self-on-updating-wordpress-plugins-via-git-svn/"/>
    <id>http://oskarhane.com/note-to-self-on-updating-wordpress-plugins-via-git-svn/</id>
    <published>2014-07-29T11:12:45.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>I host my <a href="http://wordpress.org/plugins/two-factor-auth/" target="_blank" rel="external">Two Factor Auth Wordpress Plugin</a> on <a href="https://github.com/oskarhane/wp-two-factor-auth" target="_blank" rel="external">Github</a> and I run <a href="https://www.kernel.org/pub/software/scm/git/docs/git-svn.html" target="_blank" rel="external">git svn</a> locally to be able to sync the Github git repo with the Wordpress plugins SVN repo.</p>
<p>But, it’s a bit of a hassle and I don’t update the plugin often enough to remember what step to take.</p>
<p>The assumption is that you’ve followed <a href="https://gist.github.com/kasparsd/3749872" target="_blank" rel="external">this guide</a> to setup you local repo with svn and git remotes.</p>
<h2 id="1">1</h2><p>Write code in local git feature branches as usual. Push the finished code to Githubs master branch and add a git tag.</p>
<h2 id="2">2</h2><p>Create a new local git branch (or use a clean old one) and merge local master branch (remember to squash all commits!) into this one. It has to have a straight history.</p>
<h2 id="3">3</h2><p>Run <code>git svn rebase</code> the see that the history matches with the remote Worpress svn repo.</p>
<h2 id="4">4</h2><p>Run <code>git svn dcommit --username yourusername</code> to push the code to Wordpress svn repo. Remember that you have to change all the tags in your readme.txt and you main plugin file to match the new release version.</p>
<h2 id="5">5</h2><p>Run <code>git svn tag x.x</code> to copy trunk and create a new remote tag/release from it.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>I host my <a href="http://wordpress.org/plugins/two-factor-auth/" target="_blank" rel="external">Two Factor Auth Wordpress Plugin</a> on ]]>
    </summary>
    
      <category term="WordPress" scheme="http://oskarhane.com/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Use your Synology as a local DNS cache]]></title>
    <link href="http://oskarhane.com/use-your-synology-as-a-local-dns-cache/"/>
    <id>http://oskarhane.com/use-your-synology-as-a-local-dns-cache/</id>
    <published>2014-06-30T13:02:54.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>It is totally unnecessary to have all your computers, iPad’s and iPhone’s ask your router to resolve domain names to an external DNS server whenever you click a link or enter a domain name.  </p>
<p>Why not have something that sits on your local network and forwards unknown DNS requests and then saves the cache so the next time that request would take ≈ 1 ms instead of ≈ 50 ms (or ever more if you use your ISP’s DNS service)?  </p>
<a id="more"></a>
<p>You can use a Raspberry Pi to do this as well (let me know if you want a post on how to do that) but since I have a Synology RackStation at home, I’ll use that instead.</p>
<p>First of all, I click to en Synology Package Center and installed a package call ‘DNS server’.  </p>
<p><img src="/post_img/2014/06/orreMBA-2014-06-30-kl.-14.41.21.png" alt="dns"></p>
<p>After that I entered the settings page for the DNS server and activated it as well as activated forwarding to Googles DNS servers. Here you can enter anyones you want. I find Google’s fast and reliable.  </p>
<p><img src="/post_img/2014/06/orreMBA-2014-06-30-kl.-14.41.37.png" alt="settings"></p>
<p>And then I adjusted some of the size settings.  </p>
<p><img src="/post_img/2014/06/orreMBA-2014-06-30-kl.-14.41.46.png" alt="size"></p>
<p>Just to try it out I did a series of 30 parallell queries on a domain on my computer.  </p>
<p>Type this in your terminal to query your current DNS 30 times for <code>oskarhane.com</code> and print the average time.</p>
<pre><code><span class="flow">for</span> i <span class="flow">in</span> {<span class="number">1</span>..<span class="number">30</span>}; <span class="flow">do</span> <span class="keyword">echo</span> oskarhane.com;done | xargs -I^ -P10 dig ^ | grep <span class="built_in">time</span> | awk /<span class="built_in">time</span>/'{sum+=$<span class="number">4</span>} END { <span class="built_in">print</span> "Average query = ",sum/NR,"ms"}'
</code></pre><p>I got <code>Average query =  51,1333 ms</code> going straight to Google’s DNS servers.</p>
<p>To test the Synology I entered Network Settings on my Mac and entered the local ip to my Synology as the DNS server to use.  </p>
<p><img src="/post_img/2014/06/orreMBA-2014-06-30-kl.-14.42.10.png" alt="network"></p>
<p>And then I ran the test again, this time getting <code>Average query =  23,3 ms</code>. Cut by half, but remember, the first query is not cached so that probably took at least 50 ms!.  </p>
<p>Running the query once more should return just cached responses.</p>
<p><code>Average query =  1,1 ms</code></p>
<p><strong>Indeed, this is fast!</strong></p>
<p>Anyway, if I just leave it with this and take my computer outside my home network, I’m not going to be able to resolve any domains since my computer won’t be able to find my local DNS server.  </p>
<p>So, remove the ip to the Synology in the network settings no the mac (leave it empty, defaulting to the current router/gateway).  </p>
<p>I want to efter this in my routers settings so everyone on my home network gets tt benefit from this.</p>
<p>I have an Apple Airport Extreme (which actually has a DNS cache itself so this will not have any impact) so I start the app Airport Utility and enter the local ip to my Synology in <strong>BOTH</strong> DNS server IP fields.</p>
<p>Refer to your router’s manual on how to change DNS server settings.  </p>
<p>All done.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>It is totally unnecessary to have all your computers, iPad’s and iPhone’s ask your router to resolve domain names to an external DNS server whenever you click a link or enter a domain name.  </p>
<p>Why not have something that sits on your local network and forwards unknown DNS requests and then saves the cache so the next time that request would take ≈ 1 ms instead of ≈ 50 ms (or ever more if you use your ISP’s DNS service)?  </p>]]>
    
    </summary>
    
      <category term="Impressive" scheme="http://oskarhane.com/tags/Impressive/"/>
    
      <category term="Server Side" scheme="http://oskarhane.com/tags/Server-Side/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Make:r - How I did a fishing lure / jerk bait ]]></title>
    <link href="http://oskarhane.com/maker-how-i-did-a-fishing-lure-jerk-bait/"/>
    <id>http://oskarhane.com/maker-how-i-did-a-fishing-lure-jerk-bait/</id>
    <published>2014-06-12T07:08:10.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>This is going to be a odd post in contrast to all other posts I’ve written. I like to make things, it doesn’t matter if it’s software or hardware. Recently I started to fish again after a few years on hold.</p>
<p>This time I wanted to fish for pike with a method called jerk bait fishing. These baits/lures does not have their own movement pattern like most lures has. These baits you have to jerk to get them moving in a, for the fish, compelling way. So it’s one step back to a more manual way of fishing.  </p>
<p>To be able to jerk efficiently you have to have a really stiff and short pole (pun intended) and a non elastic wire.</p>
<p>What’s nice with these baits is that you quite easily can make your own since they don’t have to move by them selves in a specific way.<br><a id="more"></a></p>
<p>So, here’s how I made mine!</p>
<h3 id="Draw_a_shape_and_saw_it_from_wood-_Start_to_cut_the_shape_you_want-">Draw a shape and saw it from wood. Start to cut the shape you want.</h3><p><img src="/post_img/2014/06/IMG_0050.jpg" alt="One"></p>
<h3 id="Grind_with_sand_paper_to_make_it_smooth-">Grind with sand paper to make it smooth.</h3><p><img src="/post_img/2014/06/IMG_0051.jpg" alt="Two"></p>
<h3 id="Drill_some_holes_for_the_lead_to_make_it_hold_position_in_the_water_and_to_make_it_sink_slow-_Dip_it_once_in_epoxy-">Drill some holes for the lead to make it hold position in the water and to make it sink slow. Dip it once in epoxy.</h3><p><img src="/post_img/2014/06/IMG_0052.jpg" alt="three"></p>
<h3 id="Drill_a_hole_for_a_rattle_ball-_I_used_the_head_of_a_nail_as_the_ball-">Drill a hole for a rattle ball. I used the head of a nail as the ball.</h3><p><img src="/post_img/2014/06/file_thumb-1.cgi_.jpeg" alt="four"></p>
<h3 id="Fill_the_holes_with_lead_and_glue_metal_plates_enclosing_the_rattle_ball-">Fill the holes with lead and glue metal plates enclosing the rattle ball.</h3><p><img src="/post_img/2014/06/file_thumb.cgi_kopia.jpeg" alt="five">  </p>
<p>[video width=”1280” height=”720” mp4=”/post_img/2014/06/IMG_0043.mp4”][/video]</p>
<h3 id="Putty_the_wholes">Putty the wholes</h3><p><img src="/post_img/2014/06/IMG_0045.jpg" alt="six"></p>
<h3 id="Grind_the_putty_to_make_it_smooth">Grind the putty to make it smooth</h3><p><img src="/post_img/2014/06/IMG_0046.jpg" alt="seven"></p>
<h3 id="Dip_it_in_epoxy-_Dry-_Paint-_I_used_spray_cans_to_paint,_which_I_don’t_recommend-_Use_airbrush_if_you_can-">Dip it in epoxy. Dry. Paint. I used spray cans to paint, which I don’t recommend. Use airbrush if you can.</h3><p><img src="/post_img/2014/06/IMG_0040.jpg" alt="eight">  </p>
<p><img src="/post_img/2014/06/IMG_0041.jpg" alt="nine">  </p>
<p><img src="/post_img/2014/06/IMG_0037.jpg" alt="ten">  </p>
<p><img src="/post_img/2014/06/IMG_0039.jpg" alt="eleven"></p>
<p>The only thing left is to test it in water and catch some pikes!</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>This is going to be a odd post in contrast to all other posts I’ve written. I like to make things, it doesn’t matter if it’s software or hardware. Recently I started to fish again after a few years on hold.</p>
<p>This time I wanted to fish for pike with a method called jerk bait fishing. These baits/lures does not have their own movement pattern like most lures has. These baits you have to jerk to get them moving in a, for the fish, compelling way. So it’s one step back to a more manual way of fishing.  </p>
<p>To be able to jerk efficiently you have to have a really stiff and short pole (pun intended) and a non elastic wire.</p>
<p>What’s nice with these baits is that you quite easily can make your own since they don’t have to move by them selves in a specific way.<br>]]>
    
    </summary>
    
      <category term="General" scheme="http://oskarhane.com/tags/General/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Angular.JS filter to make url:s in text clickable]]></title>
    <link href="http://oskarhane.com/angular-js-filter-to-make-urls-in-text-clickable/"/>
    <id>http://oskarhane.com/angular-js-filter-to-make-urls-in-text-clickable/</id>
    <published>2014-06-02T06:00:46.000Z</published>
    <updated>2015-03-05T12:42:59.000Z</updated>
    <content type="html"><![CDATA[<p>This is a simple filter I made for Angular.JS to make url’s in text clickable. Make sure you place the content and filter in the <code>ng-bind-html</code> attribute of the HTML element. Otherwise the HTML won’t be parsed.</p>
<p>E.g. <code>&lt;p ng-bind-html=&quot;comment.body | parseUrl&quot;&gt;&lt;/p&gt;</code></p>
<p>Here’s the <code>parseUrl</code> filter:</p>
<pre><code>angular.module(<span class="string">'filters'</span>, [])
.<span class="built_in">filter</span>(<span class="string">'parseUrl'</span>, <span class="function"><span class="keyword">function</span>() {</span>
    var urls = /(\b(<span class="keyword">https</span>?|<span class="keyword">ftp</span>):\/\/[A-Z0-<span class="number">9</span>+&amp;@<span class="comment">#\/%?=~_|!:,.;-]*[-A-Z0-9+&amp;@#\/%=~_|])/gim</span>
    var emails = /(\w+@[<span class="operator">a</span>-zA-Z_]+?\.[<span class="operator">a</span>-zA-Z]{<span class="number">2</span>,<span class="number">6</span>})/gim

    <span class="constant">return</span> <span class="function"><span class="keyword">function</span>(<span class="title">text</span>) {        </span>
        <span class="keyword">if</span>(<span class="keyword">text</span>.match(urls)) {
            <span class="keyword">text</span> = <span class="keyword">text</span>.<span class="built_in">replace</span>(urls, <span class="string">"&lt;a href=\"$1\" target=\"_blank\"&gt;$1&lt;/a&gt;"</span>)
        }
        <span class="keyword">if</span>(<span class="keyword">text</span>.match(emails)) {
            <span class="keyword">text</span> = <span class="keyword">text</span>.<span class="built_in">replace</span>(emails, <span class="string">"&lt;a href=\"mailto:$1\"&gt;$1&lt;/a&gt;"</span>)
        }

        <span class="constant">return</span> <span class="keyword">text</span>       
    }
})
</code></pre><p>Also, make sure you inject <code>filters</code> in your main module / app.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>This is a simple filter I made for Angular.JS to make url’s in text clickable. Make sure you place the content and filter in the <code>ng]]>
    </summary>
    
      <category term="Client Side" scheme="http://oskarhane.com/tags/Client-Side/"/>
    
      <category term="Coding" scheme="http://oskarhane.com/tags/Coding/"/>
    
  </entry>
  
</feed>